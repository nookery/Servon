# User ç”¨æˆ·ç®¡ç†æ’ä»¶

## æ¦‚è¿°

Useræ’ä»¶æ˜¯Servonçš„ç”¨æˆ·ç®¡ç†å·¥å…·ï¼Œæä¾›äº†å®Œæ•´çš„ç³»ç»Ÿç”¨æˆ·ç®¡ç†åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹ã€ç”¨æˆ·åˆ›å»ºã€ç”¨æˆ·åˆ é™¤å’Œç”¨æˆ·è¯¦ç»†ä¿¡æ¯æŸ¥çœ‹ç­‰åŠŸèƒ½ã€‚è¯¥æ’ä»¶æ”¯æŒè·¨å¹³å°æ“ä½œï¼Œå…¼å®¹macOSå’ŒLinuxç³»ç»Ÿã€‚

## åŠŸèƒ½ç‰¹æ€§

### ğŸ” ç”¨æˆ·åˆ—è¡¨æŸ¥çœ‹
- åˆ—å‡ºç³»ç»Ÿä¸­çš„æ‰€æœ‰ç”¨æˆ·
- æ”¯æŒè¿‡æ»¤ç³»ç»Ÿç”¨æˆ·
- æä¾›è¯¦ç»†ä¿¡æ¯æ˜¾ç¤ºæ¨¡å¼
- æ˜¾ç¤ºç”¨æˆ·æƒé™çŠ¶æ€ï¼ˆsudoæƒé™ï¼‰

### ğŸ‘¤ ç”¨æˆ·è¯¦ç»†ä¿¡æ¯
- æŸ¥çœ‹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ï¼ˆç”¨æˆ·åã€ä¸»ç›®å½•ã€Shellç­‰ï¼‰
- æ˜¾ç¤ºç”¨æˆ·æƒé™ä¿¡æ¯
- ç»Ÿè®¡ç”¨æˆ·æ–‡ä»¶å’Œç›®å½•ä¿¡æ¯
- æŸ¥çœ‹ç”¨æˆ·å½“å‰è¿è¡Œçš„è¿›ç¨‹
- æ˜¾ç¤ºç”¨æˆ·ç™»å½•å†å²

### â• ç”¨æˆ·åˆ›å»º
- åˆ›å»ºæ–°çš„ç³»ç»Ÿç”¨æˆ·
- æ”¯æŒå¯†ç è®¾ç½®ï¼ˆäº¤äº’å¼è¾“å…¥ï¼‰
- å¯é…ç½®ç”¨æˆ·Shell
- æ”¯æŒæ·»åŠ åˆ°æŒ‡å®šç”¨æˆ·ç»„
- å¯æˆäºˆsudoæƒé™
- æä¾›ç”¨æˆ·åæ ¼å¼éªŒè¯

### ğŸ—‘ï¸ ç”¨æˆ·åˆ é™¤
- å®‰å…¨åˆ é™¤ç³»ç»Ÿç”¨æˆ·
- å¯é€‰æ‹©æ˜¯å¦åˆ é™¤ç”¨æˆ·ä¸»ç›®å½•
- æä¾›å—ä¿æŠ¤ç”¨æˆ·æ£€æŸ¥
- åˆ é™¤å‰ç¡®è®¤æœºåˆ¶
- æ£€æŸ¥ç”¨æˆ·è¿è¡Œè¿›ç¨‹

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬å‘½ä»¤ç»“æ„
```bash
servon user [command] [flags]
```

### 1. åˆ—å‡ºç”¨æˆ·

#### åŸºæœ¬ç”¨æ³•
```bash
# åˆ—å‡ºæ‰€æœ‰éç³»ç»Ÿç”¨æˆ·
servon user list

# åŒ…å«ç³»ç»Ÿç”¨æˆ·
servon user list --system

# æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
servon user list --verbose

# ç»„åˆä½¿ç”¨
servon user list -sv
```

#### å‚æ•°è¯´æ˜
- `-s, --system`: åŒ…å«ç³»ç»Ÿç”¨æˆ·
- `-v, --verbose`: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

### 2. æŸ¥çœ‹ç”¨æˆ·è¯¦ç»†ä¿¡æ¯

#### åŸºæœ¬ç”¨æ³•
```bash
# æŸ¥çœ‹ç”¨æˆ·åŸºæœ¬ä¿¡æ¯
servon user info [username]

# æ˜¾ç¤ºç”¨æˆ·å½“å‰è¿›ç¨‹
servon user info [username] --processes

# æ˜¾ç¤ºç™»å½•å†å²
servon user info [username] --login-history

# æ˜¾ç¤ºæ‰€æœ‰ä¿¡æ¯
servon user info [username] -pl
```

#### å‚æ•°è¯´æ˜
- `-p, --processes`: æ˜¾ç¤ºç”¨æˆ·å½“å‰è¿è¡Œçš„è¿›ç¨‹
- `-l, --login-history`: æ˜¾ç¤ºç”¨æˆ·ç™»å½•å†å²

#### ç¤ºä¾‹
```bash
# æŸ¥çœ‹å½“å‰ç”¨æˆ·ä¿¡æ¯
servon user info $(whoami)

# æŸ¥çœ‹ç”¨æˆ·è¯¦ç»†ä¿¡æ¯å’Œè¿›ç¨‹
servon user info colorfy --processes
```

### 3. åˆ›å»ºç”¨æˆ·

#### åŸºæœ¬ç”¨æ³•
```bash
# åˆ›å»ºåŸºæœ¬ç”¨æˆ·ï¼ˆä¼šæç¤ºè¾“å…¥å¯†ç ï¼‰
servon user create [username]

# æŒ‡å®šå¯†ç åˆ›å»ºç”¨æˆ·
servon user create [username] --password "your_password"

# åˆ›å»ºç”¨æˆ·å¹¶è®¾ç½®Shell
servon user create [username] --shell /bin/bash

# åˆ›å»ºç”¨æˆ·å¹¶æ·»åŠ åˆ°ç”¨æˆ·ç»„
servon user create [username] --groups docker,www-data

# åˆ›å»ºç”¨æˆ·å¹¶æˆäºˆsudoæƒé™
servon user create [username] --sudo

# å¼ºåˆ¶åˆ›å»ºï¼ˆè¦†ç›–å·²å­˜åœ¨ç”¨æˆ·ï¼‰
servon user create [username] --force
```

#### å‚æ•°è¯´æ˜
- `-p, --password`: æŒ‡å®šç”¨æˆ·å¯†ç 
- `-s, --shell`: æŒ‡å®šç”¨æˆ·Shell
- `-g, --groups`: æ·»åŠ åˆ°çš„ç”¨æˆ·ç»„åˆ—è¡¨ï¼ˆé€—å·åˆ†éš”ï¼‰
- `-S, --sudo`: æ·»åŠ sudoæƒé™
- `-f, --force`: å¼ºåˆ¶åˆ›å»ºï¼ˆè¦†ç›–å·²å­˜åœ¨ç”¨æˆ·ï¼‰

#### ç¤ºä¾‹
```bash
# åˆ›å»ºå¼€å‘ç”¨æˆ·
servon user create developer --shell /bin/bash --groups docker,sudo --sudo

# åˆ›å»ºWebæœåŠ¡ç”¨æˆ·
servon user create webuser --groups www-data,nginx
```

### 4. åˆ é™¤ç”¨æˆ·

#### åŸºæœ¬ç”¨æ³•
```bash
# åˆ é™¤ç”¨æˆ·ï¼ˆä¿ç•™ä¸»ç›®å½•ï¼‰
servon user delete [username]

# åˆ é™¤ç”¨æˆ·åŠä¸»ç›®å½•
servon user delete [username] --remove-home

# å¼ºåˆ¶åˆ é™¤ï¼ˆè·³è¿‡ç¡®è®¤ï¼‰
servon user delete [username] --force

# è¯¦ç»†æ¨¡å¼åˆ é™¤
servon user delete [username] --verbose
```

#### å‚æ•°è¯´æ˜
- `-r, --remove-home`: åŒæ—¶åˆ é™¤ç”¨æˆ·ä¸»ç›®å½•
- `-f, --force`: å¼ºåˆ¶åˆ é™¤ï¼ˆè·³è¿‡ç¡®è®¤å’Œä¿æŠ¤æ£€æŸ¥ï¼‰
- `-v, --verbose`: æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯

#### ç¤ºä¾‹
```bash
# å®‰å…¨åˆ é™¤ç”¨æˆ·
servon user delete testuser --verbose

# å®Œå…¨åˆ é™¤ç”¨æˆ·
servon user delete olduser --remove-home --force
```

## ç³»ç»Ÿå…¼å®¹æ€§

### macOSæ”¯æŒ
- ä½¿ç”¨`dscl`å‘½ä»¤è·å–ç”¨æˆ·ä¿¡æ¯
- æ”¯æŒmacOSç”¨æˆ·ç›®å½•ç»“æ„
- å…¼å®¹macOSæƒé™ç³»ç»Ÿ

### Linuxæ”¯æŒ
- ä½¿ç”¨`/etc/passwd`æ–‡ä»¶è¯»å–ç”¨æˆ·ä¿¡æ¯
- æ”¯æŒæ ‡å‡†Linuxç”¨æˆ·ç®¡ç†å‘½ä»¤
- å…¼å®¹å„ç§Linuxå‘è¡Œç‰ˆ

## å®‰å…¨ç‰¹æ€§

### ç”¨æˆ·åˆ›å»ºå®‰å…¨
- ç”¨æˆ·åæ ¼å¼éªŒè¯
- å¯†ç å¼ºåº¦è¦æ±‚
- é‡å¤å¯†ç ç¡®è®¤
- ç”¨æˆ·å­˜åœ¨æ€§æ£€æŸ¥

### ç”¨æˆ·åˆ é™¤ä¿æŠ¤
- å—ä¿æŠ¤ç³»ç»Ÿç”¨æˆ·åˆ—è¡¨
- åˆ é™¤å‰ç¡®è®¤æœºåˆ¶
- è¿›ç¨‹æ£€æŸ¥è­¦å‘Š
- å¼ºåˆ¶åˆ é™¤é€‰é¡¹

### æƒé™ç®¡ç†
- sudoæƒé™æ£€æµ‹
- ç”¨æˆ·ç»„ç®¡ç†
- æ–‡ä»¶æƒé™æ˜¾ç¤º

## é”™è¯¯å¤„ç†

æ’ä»¶æä¾›äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼š

- **æƒé™ä¸è¶³**: æç¤ºéœ€è¦ç®¡ç†å‘˜æƒé™
- **ç”¨æˆ·ä¸å­˜åœ¨**: æ¸…æ™°çš„é”™è¯¯æç¤º
- **å‘½ä»¤æ‰§è¡Œå¤±è´¥**: è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯
- **ç³»ç»Ÿå…¼å®¹æ€§**: è‡ªåŠ¨æ£€æµ‹æ“ä½œç³»ç»Ÿç±»å‹

## ä½¿ç”¨ç¤ºä¾‹

### æ—¥å¸¸ç”¨æˆ·ç®¡ç†
```bash
# æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·
servon user list -v

# åˆ›å»ºæ–°çš„å¼€å‘ç”¨æˆ·
servon user create devuser --shell /bin/bash --sudo

# æŸ¥çœ‹ç”¨æˆ·è¯¦ç»†ä¿¡æ¯
servon user info devuser -p

# åˆ é™¤æµ‹è¯•ç”¨æˆ·
servon user delete testuser --remove-home
```

### ç³»ç»Ÿç®¡ç†åœºæ™¯
```bash
# æŸ¥çœ‹ç³»ç»Ÿç”¨æˆ·
servon user list --system

# åˆ›å»ºæœåŠ¡ç”¨æˆ·
servon user create nginx --groups www-data

# æ£€æŸ¥ç”¨æˆ·è¿›ç¨‹
servon user info nginx --processes

# æ¸…ç†æ— ç”¨ç”¨æˆ·
servon user delete oldservice --force --verbose
```

## æ³¨æ„äº‹é¡¹

1. **æƒé™è¦æ±‚**: ç”¨æˆ·åˆ›å»ºå’Œåˆ é™¤æ“ä½œéœ€è¦ç®¡ç†å‘˜æƒé™
2. **ç³»ç»Ÿç”¨æˆ·**: é»˜è®¤è¿‡æ»¤ç³»ç»Ÿç”¨æˆ·ï¼Œä½¿ç”¨`--system`å‚æ•°æ˜¾ç¤º
3. **å¯†ç å®‰å…¨**: å»ºè®®ä½¿ç”¨äº¤äº’å¼å¯†ç è¾“å…¥è€Œéå‘½ä»¤è¡Œå‚æ•°
4. **å¤‡ä»½é‡è¦**: åˆ é™¤ç”¨æˆ·å‰è¯·ç¡®ä¿é‡è¦æ•°æ®å·²å¤‡ä»½
5. **è¿›ç¨‹æ£€æŸ¥**: åˆ é™¤ç”¨æˆ·å‰æ£€æŸ¥æ˜¯å¦æœ‰è¿è¡Œçš„è¿›ç¨‹

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æ— æ³•è·å–ç”¨æˆ·åˆ—è¡¨**
A: æ£€æŸ¥ç³»ç»Ÿæƒé™ï¼Œç¡®ä¿æœ‰è¯»å–ç”¨æˆ·ä¿¡æ¯çš„æƒé™

**Q: åˆ›å»ºç”¨æˆ·å¤±è´¥**
A: ç¡®ä¿æœ‰ç®¡ç†å‘˜æƒé™ï¼Œæ£€æŸ¥ç”¨æˆ·åæ ¼å¼æ˜¯å¦æ­£ç¡®

**Q: åˆ é™¤ç”¨æˆ·æ—¶æç¤ºå—ä¿æŠ¤**
A: ç³»ç»Ÿç”¨æˆ·å—ä¿æŠ¤ï¼Œä½¿ç”¨`--force`å‚æ•°å¼ºåˆ¶åˆ é™¤ï¼ˆè°¨æ…æ“ä½œï¼‰

**Q: macOSä¸Šæ˜¾ç¤ºç”¨æˆ·ä¿¡æ¯ä¸å®Œæ•´**
A: æŸäº›ç”¨æˆ·ä¿¡æ¯å¯èƒ½éœ€è¦ç‰¹æ®Šæƒé™ï¼Œè¿™æ˜¯æ­£å¸¸ç°è±¡

## æ›´æ–°æ—¥å¿—

### v1.0.0
- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- æ”¯æŒåŸºæœ¬ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- å…¼å®¹macOSå’ŒLinuxç³»ç»Ÿ
- æä¾›å®Œæ•´çš„å‘½ä»¤è¡Œæ¥å£

## è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›è¿™ä¸ªæ’ä»¶ã€‚åœ¨æäº¤ä»£ç å‰ï¼Œè¯·ç¡®ä¿ï¼š

1. ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
2. æ·»åŠ é€‚å½“çš„æµ‹è¯•
3. æ›´æ–°ç›¸å…³æ–‡æ¡£
4. æµ‹è¯•è·¨å¹³å°å…¼å®¹æ€§