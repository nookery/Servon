package libs

import (
	"fmt"
	"os"
	"os/exec"

	"github.com/fatih/color"
)

type ShellManager struct {
}

func NewShellManager() *ShellManager {
	return &ShellManager{}
}

func (s *ShellManager) RunShell(command string, args ...string) error {
	if len(args) == 0 {
		return fmt.Errorf("command is required")
	}

	// ä½¿ç”¨é’è‰²ï¼ˆCyanï¼‰è¾“å‡ºå‘½ä»¤å’Œå‚æ•°ï¼Œç”¨ç©ºæ ¼è¿æ¥å‚æ•°
	color.Cyan("ğŸ“º %s %s", command, joinArgs(args))

	execCmd := exec.Command(command, args...)
	execCmd.Stdout = os.Stdout
	execCmd.Stderr = os.Stderr
	execCmd.Stdin = os.Stdin

	return execCmd.Run()
}
